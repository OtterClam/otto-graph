enum PortalStatus {
  UNOPENED
  OPENED
  SUMMONED
}

type Otto @entity {
  id: ID!
  tokenId: BigInt!
  tokenURI: String!
  owner: Bytes!
  candidates: [BigInt!]!
  legendary: Boolean!
  portalStatus: PortalStatus!
  canOpenAt: BigInt!
  summonAt: BigInt!
  mintAt: BigInt!
  updateAt: BigInt!

  items: [OttoItem!]!
  traits: [Trait!]!
}

type OttoItem @entity {
  id: ID!
  tokenId: BigInt!
  tokenURI: String!
  wearable: Boolean!
  slot: Int!
  rootOwner: Bytes!
  owner: Bytes!
  parentTokenId: BigInt
  amount: Int!
  updateAt: BigInt!
}

type Trait @entity {
  id: ID!
  slot: Int!
  code: Int!
  count: Int!
  ottos: [Otto!]!
}

type RarityScoreboard @entity {
  id: ID!
  epoch: Int!
}
